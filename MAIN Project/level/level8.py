import objects,map_tools,crate,npc,item,sys,os,_loc,status,danger,settings
sys.path.append(os.path.join(os.path.dirname(__file__),'..'))
from ursina import *

mt=map_tools
st=status
dg=danger
o=objects
LC=_loc
c=crate
n=npc
U=-3

def map_setting():
	LC.FOG_L_COLOR=color.black
	LC.FOG_B_COLOR=color.black
	LC.SKY_BG_COLOR=color.black
	#LC.AMB_M_COLOR=color.rgb32(0,0,0)
	LC.AMB_M_COLOR=color.rgb32(250,250,250)
	#LC.LV_DST=(6,10)
	LC.LV_DST=(70,120)
	LC.BN_DST=(3,5)
	LC.RCX=14
	LC.RCB=10
	LC.RCZ=28
	st.toggle_thunder=False
	st.toggle_rain=False

def start_load():
	bonus_zone()
	if 3 in st.COLOR_GEM or settings.debg:
		gem_zone()
	load_crate()
	load_object()
	load_wumpa()
	load_npc()
	map_setting()

def load_object():
	o.StartRoom(pos=(8,.5,-1))
	o.EndRoom(pos=(61.5,2,152.6),c=color.light_gray)
	o.BonusPlatform(pos=(35,4.3,61))
	o.GemPlatform(pos=(61.8,2,111.5),t=3)
	#skybox
	o.ObjType_Background(ID=4,pos=(8,10,200),sca=(400,300),txa=(1,1),col=color.rgb32(50,100,100),UL=True)
	#wall
	o.ObjType_Wall(ID=7,pos=(6,0,10),ro_y=180,sca=.5,col=color.dark_gray)
	o.ObjType_Wall(ID=7,pos=(10.5,0,6),ro_y=0,sca=.5,col=color.dark_gray)
	o.ObjType_Wall(ID=7,pos=(19,0,44),ro_y=180,sca=.5,col=color.dark_gray)
	o.ObjType_Wall(ID=7,pos=(24.5,0,40),ro_y=0,sca=.5,col=color.dark_gray)
	o.ObjType_Wall(ID=7,pos=(19,0,54),ro_y=180,sca=.5,col=color.dark_gray)
	o.ObjType_Wall(ID=7,pos=(24.5,0,50),ro_y=0,sca=.5,col=color.dark_gray)
	o.ObjType_Wall(ID=7,pos=(15,0,64),ro_y=-90,sca=.5,col=color.dark_gray)
	o.ObjType_Wall(ID=7,pos=(28,0,64),ro_y=-90,sca=.5,col=color.dark_gray)
	o.ObjType_Wall(ID=7,pos=(43,0,65),ro_y=-90,sca=.5,col=color.dark_gray)
	o.ObjType_Wall(ID=7,pos=(54,0,65),ro_y=-90,sca=.5,col=color.dark_gray)
	o.ObjType_Wall(ID=7,pos=(34,0,71),ro_y=-90,sca=.5,col=color.dark_gray)
	o.ObjType_Wall(ID=7,pos=(45,0,71),ro_y=-90,sca=.5,col=color.dark_gray)
	o.ObjType_Wall(ID=7,pos=(56,0,113),ro_y=-90,sca=.5,col=color.dark_gray)
	o.ObjType_Wall(ID=7,pos=(70,0,113),ro_y=-90,sca=.5,col=color.dark_gray)
	o.ObjType_Wall(ID=7,pos=(84,0,113.5),ro_y=-90,sca=.5,col=color.dark_gray)
	o.ObjType_Wall(ID=7,pos=(49.5,1.8,86.5),ro_y=180,sca=.5,col=color.dark_gray)
	o.ObjType_Wall(ID=7,pos=(55.5,1.8,82.5),ro_y=0,sca=.5,col=color.dark_gray)
	o.ObjType_Wall(ID=7,pos=(57,-.5,131.5),ro_y=180,sca=.5,col=color.dark_gray)
	o.ObjType_Wall(ID=7,pos=(64,-.5,127.5),ro_y=0,sca=.5,col=color.dark_gray)
	#shards
	o.ObjType_Deco(ID=4,pos=(8,0,22.2),sca=1,rot=(-90,-90,0),col=color.azure,UL=True)
	o.ObjType_Deco(ID=4,pos=(20.2,0,35.4),sca=1,rot=(-90,-90,0),col=color.azure,UL=True)
	o.ObjType_Deco(ID=4,pos=(23.5,0,35.4),sca=1,rot=(-90,-90,0),col=color.azure,UL=True)
	o.ObjType_Deco(ID=4,pos=(54,2,78.9),sca=1,rot=(-90,-90,0),col=color.azure,UL=True)
	o.ObjType_Deco(ID=4,pos=(53.85,2,90.3),sca=1,rot=(-90,-90,0),col=color.azure,UL=True)
	o.ObjType_Deco(ID=4,pos=(58.7,0,124.6),sca=1,rot=(-90,-90,0),col=color.azure,UL=True)
	o.ObjType_Deco(ID=4,pos=(62.4,0,124.6),sca=1,rot=(-90,-90,0),col=color.azure,UL=True)
	#dangers
	dg.Role(pos=(52.5,2.5+.75,84),di=0)
	dg.Role(pos=(52.5,2.5+.75,86),di=1)
	#water
	o.ObjType_Water(ID=5,pos=(8,.2,90),sca=(128,180),al=.96,rot=(0,0,0),col=color.rgb32(0,65,65),frames=0,spd=0,UL=True)
	#ice floor
	o.multi_ice_floor(pos=(7,-.55,12.5),cnt=[4,10])
	o.multi_ice_floor(pos=(19,-.5,36),cnt=[6,5])
	o.multi_ice_floor(pos=(19,-.5,42),cnt=[6,3])
	o.multi_ice_floor(pos=(19,-.5,46),cnt=[6,5])
	o.multi_ice_floor(pos=(36,1.5,67),cnt=[17,1])
	o.multi_ice_floor(pos=(52,1.5,68),cnt=[1,10])
	o.multi_ice_floor(pos=(51.5,1.5,92.5),cnt=[1,2])
	o.multi_ice_floor(pos=(53,1.5,94),cnt=[1,3])
	o.multi_ice_floor(pos=(57,-.5,125),cnt=[7,3])
	o.multi_ice_floor(pos=(57,-.5,129),cnt=[7,4])
	o.multi_ice_floor(pos=(59.5,-.5,138),cnt=[3,2])
	o.multi_ice_floor(pos=(60.5,-.5,140),cnt=[1,8])
	o.multi_ice_floor(pos=(61.5,-.5,146),cnt=[1,1])
	#snow ptf
	dgg=color.rgb32(60,60,60)
	o.ObjType_Movable(ID=1,pos=(53,1.5,107),ptm=0,col=dgg,UL=True)
	o.ObjType_Movable(ID=1,pos=(53.4,1.5,108.5),ptm=0,col=dgg,UL=True)
	o.ObjType_Movable(ID=1,pos=(53,1.5,110),ptm=0,col=dgg,UL=True)
	o.ObjType_Movable(ID=1,pos=(60.5,.5,133.5),ptm=0,col=dgg,UL=True)
	o.ObjType_Movable(ID=1,pos=(60.5,.5,135),ptm=0,col=dgg,UL=True)
	o.ObjType_Movable(ID=1,pos=(60.5,.5,136.5),ptm=0,col=dgg,UL=True)
	o.ObjType_Movable(ID=1,pos=(21.6,.3,54.7),ptm=0,col=dgg,UL=True)
	del dgg
	#blocks
	o.spw_block(ID=1,p=(8.5,-.5,5),vx=[1,1],ro_y=180)
	o.spw_block(ID=1,p=(8,-.5,3.5),vx=[1,1],ro_y=180)
	o.spw_block(ID=1,p=(8,-.5,3),vx=[1,1],ro_y=180)
	o.spw_block(ID=1,p=(8,-.5,2.5),vx=[1,1],ro_y=180)
	o.spw_block(ID=1,p=(7,-.5,7.5),vx=[5,5],ro_y=180)
	o.spw_block(ID=1,p=(11,0,22),vx=[1,1],ro_y=180)
	o.spw_block(ID=1,p=(11,-.25,21),vx=[1,1],ro_y=180)
	o.spw_block(ID=1,p=(13,0,22),vx=[2,1],ro_y=180)
	o.spw_block(ID=1,p=(16,0,22),vx=[2,1],ro_y=180)
	o.spw_block(ID=1,p=(17,0,24),vx=[1,3],ro_y=180)
	o.spw_block(ID=1,p=(18,.5,26),vx=[1,1],ro_y=180)
	o.spw_block(ID=1,p=(19,1,26),vx=[2,1],ro_y=180)
	o.spw_block(ID=1,p=(22,1,26),vx=[1,3],ro_y=180)
	o.spw_block(ID=1,p=(22,.5,30),vx=[1,1],ro_y=180)
	o.spw_block(ID=1,p=(22,0,32),vx=[1,4],ro_y=180)
	o.spw_block(ID=1,p=(20,0,56),vx=[5,2],ro_y=180)
	o.spw_block(ID=1,p=(19,1.5,58),vx=[7,1],ro_y=180)
	o.spw_block(ID=1,p=(19,3,59),vx=[7,1],ro_y=180)
	o.spw_block(ID=1,p=(19,-.5,52),vx=[7,2],ro_y=180)
	o.spw_block(ID=1,p=(27,3,59),vx=[4,1],ro_y=180)
	o.spw_block(ID=1,p=(32,3,59),vx=[1,1],ro_y=180)
	o.spw_block(ID=1,p=(34,3,59),vx=[1,1],ro_y=180)
	o.spw_block(ID=1,p=(34,3,60),vx=[1,3],ro_y=180)
	o.spw_block(ID=1,p=(34,2.5,64),vx=[1,1],ro_y=180)
	o.spw_block(ID=1,p=(34,2,66),vx=[1,2],ro_y=180)
	o.spw_block(ID=1,p=(35,1.75,66.99),vx=[1,1],ro_y=180)
	o.spw_block(ID=1,p=(52,1.5,77),vx=[1,2],ro_y=180)
	o.spw_block(ID=1,p=(50.5,1.5,79),vx=[5,4],ro_y=180)
	o.spw_block(ID=1,p=(50.5,1.5,84),vx=[5,1],ro_y=180)
	o.spw_block(ID=1,p=(50.5,1.5,86),vx=[5,1],ro_y=180)
	o.spw_block(ID=1,p=(50.5,1.5,88),vx=[5,3],ro_y=180)
	o.spw_block(ID=1,p=(53,1.5,98.5),vx=[1,3],ro_y=180)
	o.spw_block(ID=1,p=(53,1,101.5),vx=[1,2],ro_y=180)
	o.spw_block(ID=1,p=(53,.5,103.5),vx=[1,3],ro_y=180)
	o.spw_block(ID=1,p=(53,.5,111.5),vx=[4,1],ro_y=180)
	o.spw_block(ID=1,p=(57,0,111.5),vx=[2,1],ro_y=180)
	o.spw_block(ID=1,p=(59,1,111.5),vx=[3,1],ro_y=180)
	o.spw_block(ID=1,p=(60.5,1,112.5),vx=[1,3],ro_y=180)
	o.spw_block(ID=1,p=(60.5,-.5,123),vx=[1,2],ro_y=180)

def load_crate():
	c.place_crate(ID=10,p=(61.6,.5+.16,146.1))
	c.place_crate(ID=8,p=(23.1,1.16,57.1))
	c.place_crate(ID=8,p=(20.4,2.5+.16,58.1))
	c.place_crate(ID=4,p=(60.5,2,116))
	c.place_crate(ID=2,p=(60.5,1.6,118))
	c.place_crate(ID=1,p=(60.5,1.2,120))
	c.place_crate(ID=1,p=(60.5,.8,122))
	#nitro
	mt.crate_row(ID=12,POS=(7,.61,12.6),WAY=0,CNT=4)
	mt.crate_row(ID=12,POS=(9,.61,15.3),WAY=0,CNT=4)
	mt.crate_row(ID=12,POS=(7,.61,17.6),WAY=0,CNT=4)
	mt.crate_row(ID=12,POS=(20.0,.66,40.3),WAY=0,CNT=4)
	mt.crate_row(ID=12,POS=(22.0,.66,44.2),WAY=0,CNT=4)
	mt.crate_row(ID=12,POS=(20.1,.66,48.3),WAY=0,CNT=4)
	mt.crate_row(ID=12,POS=(20,.66,53),WAY=0,CNT=4)
	mt.crate_row(ID=12,POS=(22.3,.66,53),WAY=0,CNT=4)
	c.place_crate(ID=12,p=(12.8,1.16,22.2))
	c.place_crate(ID=12,p=(13.7,1.16,21.7))
	c.place_crate(ID=12,p=(16.6,1.16,22.2))
	c.place_crate(ID=12,p=(36.7,2.66,66.8))
	c.place_crate(ID=12,p=(38.8,2.66,67.4))
	c.place_crate(ID=12,p=(40.7,2.66,66.8))
	c.place_crate(ID=12,p=(44.0,2.66,66.8))
	c.place_crate(ID=12,p=(51.1,2.66,66.8))
	c.place_crate(ID=12,p=(51.7,2.66,69.1))
	c.place_crate(ID=12,p=(52.2,2.66,72.7))
	c.place_crate(ID=12,p=(51.7,2.66,75.7))
	c.place_crate(ID=12,p=(42.2,2.66,67.3))
	c.place_crate(ID=12,p=(53.3,2.66,93.7))
	c.place_crate(ID=12,p=(51.1,2.66,93.7))
	c.place_crate(ID=12,p=(60.3,.5+.16,142.3))
	c.place_crate(ID=12,p=(60.7,.5+.16,142.3))
	c.place_crate(ID=12,p=(58.8,.66,125.2))
	c.place_crate(ID=12,p=(62,.66,126.2))
	c.place_crate(ID=12,p=(60.6,.66,126.5))
	c.place_crate(ID=12,p=(62.5,.66,128.8))
	c.place_crate(ID=12,p=(61.0,.66,128.8))
	c.place_crate(ID=12,p=(59.9,.66,128.8))
	c.place_crate(ID=12,p=(58.3,.66,128.8))
	c.place_crate(ID=12,p=(59.3,.66,130.3))
	c.place_crate(ID=12,p=(62,.66,131.2))
	c.place_crate(ID=12,p=(59.4,.66,132.3))
	c.place_crate(ID=12,p=(61.2,.66,132.3))
	c.place_crate(ID=12,p=(59.5,.66,138.2))
	#checkp
	c.place_crate(ID=6,p=(22,1.16,34.7))
	c.place_crate(ID=6,p=(34,4.16,61.7))
	c.place_crate(ID=6,p=(52.5,2.66,79.5))
	c.place_crate(ID=6,p=(53,1.66,103.7))
	#aku
	c.place_crate(ID=5,p=(7.9,.66,11.3))
	c.place_crate(ID=5,p=(21.3,.66,40.1))
	c.place_crate(ID=5,p=(51.2,2.66,81.5))
	#
	c.place_crate(ID=7,p=(7.9+.32,.66,11.3))
	c.place_crate(ID=2,p=(7.9+.32,2.5,11.3))
	c.place_crate(ID=2,p=(7.9+.32,2.5+.32,11.3))
	c.place_crate(ID=7,p=(22,2.16,27.8))
	c.place_crate(ID=3,p=(22,4,27.8))
	mt.crate_row(ID=0,POS=(53.4,2.659,79.4),WAY=2,CNT=1)
	c.place_crate(ID=2,p=(53.4,2.66+.32,79.4))
	mt.crate_row(ID=0,POS=(53.4,2.66,80.3),WAY=2,CNT=2)
	c.place_crate(ID=4,p=(53.4,2.66+.64,80.3))
	mt.crate_row(ID=0,POS=(53.4,2.66,81),WAY=2,CNT=3)
	c.place_crate(ID=1,p=(53.4,2.66+.96,81))
	mt.crate_row(ID=14,POS=(53.4,2.66,82.1),WAY=2,CNT=4)
	c.place_crate(ID=14,p=(53.4,2.66+1.28,82.1))
	mt.crate_wall(ID=1,POS=(8.7,.66,5),CNT=[1,3])
	
	mt.crate_plane(ID=14,POS=(7.5,.661,8.9),CNT=[2,2])
	
	mt.crate_wall(ID=1,POS=(7.4,.61,16),CNT=[1,2])
	mt.crate_block(ID=1,POS=(9.3,.61,18.3),CNT=[2,2,1])
	mt.crate_wall(ID=1,POS=(7.6,.61,20.5),CNT=[3,1])
	mt.crate_block(ID=1,POS=(22.5,.66,43.3),CNT=[2,2,1])
	mt.crate_wall(ID=2,POS=(22.6,.66,49.3),CNT=[2,1])
	mt.crate_block(ID=1,POS=(20.5,1.16,56.8),CNT=[2,2,1])
	mt.crate_wall(ID=1,POS=(19.1,4.16,59.1),CNT=[3,1])
	c.place_crate(ID=4,p=(18,2.4,25.9))
	mt.crate_wall(ID=1,POS=(31,3,59),CNT=[1,4])
	mt.crate_block(ID=1,POS=(53.7,2.66,89.5),CNT=[2,2,2])
	mt.crate_wall(ID=1,POS=(61.4,.66,138),CNT=[2,1])
	c.place_crate(ID=3,p=(58,1.6,111.5))
	c.place_crate(ID=1,p=(61.3,0.66,125.7))
	c.place_crate(ID=2,p=(59.5,0.66,126.2))
	c.place_crate(ID=1,p=(60.7,0.66,130.5))
	c.place_crate(ID=2,p=(62.5,0.66,130.2))
	c.place_crate(ID=1,p=(58.4,0.66,131.1))

def load_npc():
	n.Firefly(pos=(8,1,4.5),fldd=[(9,1,20),(17,1.75,22),(17,1.75,26),(22,3.4,26),(22,1.5,34)],spd=1)
	n.Firefly(pos=(21.7,1,37),fldd=[(21.7,2,56.5),(21.7,5,56.5),(21.7,5,59),(34,5,59)],spd=1)
	n.Firefly(pos=(34,4,64),fldd=[(34,3.5,67),(52,3,67),(52,3,78)],spd=1)
	n.Firefly(pos=(52.3,3,81),fldd=[(52.5,3,90),(51.6,3,93),(53.1,3,96),(53,2.5,102)],spd=1)
	n.Firefly(pos=(53,2,107),fldd=[(53,2,111.5),(60.5,3,111.5),(60.5,1.5,123.5),(60.5,1.5,146)],spd=1.2)
	n.Firefly(pos=(-2.5,-36.4,U-.3),fldd=[(1,-36,U),(2,-35.3,U),(5.7,-37.3,U),(6.2,-35.3,U),(16,-35.3,U)],spd=.5)
	#enemies
	n.spawn(ID=4,POS=(8.2,.50,9.4),DRC=0,RNG=1)
	n.spawn(ID=4,POS=(19.5,2,25.9),DRC=0,RNG=1)
	n.spawn(ID=5,POS=(21.6,.5,42.3),DRC=0,RNG=1)
	n.spawn(ID=4,POS=(21.8,.5,46.5),DRC=0,RNG=1)
	n.spawn(ID=6,POS=(21.7,.5,50.4),DRC=0,RNG=1)
	n.spawn(ID=4,POS=(21.7,1,56.4),DRC=0,RNG=1)
	n.spawn(ID=6,POS=(28.4,4,59.1),DRC=0,RNG=1)
	n.spawn(ID=4,POS=(47.9,2.5,67.1),DRC=0,RNG=1)
	n.spawn(ID=5,POS=(52.6,2.5,89),DRC=0,RNG=1)
	n.spawn(ID=4,POS=(60.5,.5,127.2),DRC=0,RNG=1)
	n.spawn(ID=5,POS=(60.5,.5,129.4),DRC=0,RNG=1)
	n.spawn(ID=4,POS=(60.5,.5,131.9),DRC=0,RNG=1)
	n.spawn(ID=4,POS=(60.5,.5,139.2),DRC=0,RNG=1)
	n.spawn(ID=5,POS=(17,1,24.8),DRC=2,RNG=1)
	n.spawn(ID=5,POS=(57.5,1,111.5),DRC=0,RNG=.8)

def load_wumpa():
	mt.wumpa_row(POS=(8.9,0.70,8.5),CNT=3,WAY=1)
	mt.wumpa_row(POS=(8.8,0.65,18.9),CNT=3,WAY=1)
	mt.wumpa_row(POS=(17.0,1.20,24.1),CNT=3,WAY=1)
	mt.wumpa_row(POS=(22.0,2.20,25.9),CNT=3,WAY=1)
	mt.wumpa_row(POS=(22.0,1.20,32.0),CNT=3,WAY=1)
	mt.wumpa_row(POS=(21.9,0.70,38.1),CNT=3,WAY=1)
	mt.wumpa_row(POS=(20.9,0.70,42.1),CNT=3,WAY=1)
	mt.wumpa_row(POS=(21.9,0.70,46.4),CNT=3,WAY=1)
	mt.wumpa_row(POS=(34.0,4.20,59.2),CNT=3,WAY=1)
	mt.wumpa_row(POS=(34.0,3.20,65.8),CNT=3,WAY=1)
	mt.wumpa_row(POS=(52.0,2.70,70.3),CNT=3,WAY=1)
	mt.wumpa_row(POS=(52.0,2.70,73.7),CNT=3,WAY=1)
	mt.wumpa_row(POS=(51.5,2.70,92.5),CNT=3,WAY=1)
	mt.wumpa_row(POS=(53.0,2.70,94.4),CNT=3,WAY=1)
	mt.wumpa_row(POS=(53.0,2.70,98.7),CNT=3,WAY=1)
	mt.wumpa_row(POS=(60.5,2.20,112.4),CNT=3,WAY=1)
	mt.wumpa_row(POS=(60.5,0.70,122.9),CNT=3,WAY=1)
	mt.wumpa_row(POS=(60.5,0.70,124.9),CNT=3,WAY=1)
	mt.wumpa_row(POS=(60.5,0.70,140.4),CNT=3,WAY=1)
	mt.wumpa_row(POS=(60.5,0.70,143.5),CNT=3,WAY=1)
	mt.wumpa_row(POS=(19.0,2.20,26.0),CNT=4,WAY=0)
	mt.wumpa_row(POS=(20.7,0.70,52.1),CNT=4,WAY=0)
	mt.wumpa_row(POS=(21.6,1.20,56.9),CNT=4,WAY=0)
	mt.wumpa_row(POS=(20.8,2.70,58.0),CNT=4,WAY=0)
	mt.wumpa_row(POS=(20.4,4.20,59.0),CNT=4,WAY=0)
	mt.wumpa_row(POS=(27.0,4.20,59.0),CNT=4,WAY=0)
	mt.wumpa_row(POS=(37.8,2.70,67.1),CNT=4,WAY=0)
	mt.wumpa_row(POS=(43.1,2.70,67.1),CNT=4,WAY=0)
	mt.wumpa_row(POS=(45.2,2.70,67.1),CNT=4,WAY=0)
	mt.wumpa_row(POS=(49.4,2.70,67.1),CNT=4,WAY=0)
	mt.wumpa_row(POS=(51.6,2.70,84.0),CNT=4,WAY=0)
	mt.wumpa_row(POS=(52.7,2.70,86.0),CNT=4,WAY=0)
	mt.wumpa_row(POS=(53.0,1.70,111.5),CNT=4,WAY=0)
	mt.wumpa_row(POS=(60.5,.8,135),CNT=4,WAY=1)

def bonus_zone():
	o.HitBox(pos=(0,-35,U+.2),sca=(80,20,.1))
	o.ObjType_Water(ID=5,pos=(0,-38.5,0),sca=(128,32),al=.96,rot=(0,0,0),col=color.rgb32(0,65,65),frames=0,spd=0,UL=True)
	o.ObjType_Wall(ID=7,pos=(0,-39,2),ro_y=-90,sca=.5,col=color.dark_gray)
	o.ObjType_Wall(ID=7,pos=(12,-39,2),ro_y=-90,sca=.5,col=color.dark_gray)
	o.ObjType_Wall(ID=7,pos=(-1,-38,4),ro_y=-90,sca=.5,col=color.dark_gray)
	o.ObjType_Wall(ID=7,pos=(11,-38,4),ro_y=-90,sca=.5,col=color.dark_gray)
	#blocks
	o.spw_block(ID=1,p=(-2.5,-38,U),vx=[1,1],ro_y=180)
	o.spw_block(ID=1,p=(-1,-38,U),vx=[2,1],ro_y=180)
	o.spw_block(ID=1,p=(1,-37.5,U),vx=[1,1],ro_y=180)
	o.spw_block(ID=1,p=(2,-37,U),vx=[1,1],ro_y=180)
	o.spw_block(ID=1,p=(2,-39,U),vx=[6,1],ro_y=180)
	o.spw_block(ID=1,p=(7,-37,U),vx=[3,1],ro_y=180)
	o.spw_block(ID=1,p=(11,-37,U),vx=[1,1],ro_y=180)
	o.spw_block(ID=1,p=(13,-37,U),vx=[4,1],ro_y=180)
	#ice shards
	o.ObjType_Deco(ID=4,pos=(-.3,-37,U+.4),sca=.5,rot=(-90,-90,0),col=color.azure,UL=True)
	o.ObjType_Deco(ID=4,pos=(1.5,-36.5,U+.4),sca=.5,rot=(-90,-90,0),col=color.azure,UL=True)
	o.ObjType_Deco(ID=4,pos=(3.2,-38,U+.4),sca=.5,rot=(-90,-90,0),col=color.azure,UL=True)
	o.ObjType_Deco(ID=4,pos=(4.4,-38,U+.4),sca=.5,rot=(-90,-90,0),col=color.azure,UL=True)
	o.ObjType_Deco(ID=4,pos=(5.6,-38,U+.4),sca=.5,rot=(-90,-90,0),col=color.azure,UL=True)
	o.ObjType_Deco(ID=4,pos=(7.3,-36,U+.4),sca=.5,rot=(-90,-90,0),col=color.azure,UL=True)
	o.ObjType_Deco(ID=4,pos=(8.6,-36,U+.4),sca=.5,rot=(-90,-90,0),col=color.azure,UL=True)
	o.ObjType_Deco(ID=4,pos=(11,-36,U+.4),sca=.3,rot=(-90,-90,0),col=color.azure,UL=True)
	o.ObjType_Deco(ID=4,pos=(13.8,-36,U+.4),sca=.5,rot=(-90,-90,0),col=color.azure,UL=True)
	o.ObjType_Deco(ID=4,pos=(15.2,-36,U+.4),sca=.5,rot=(-90,-90,0),col=color.azure,UL=True)
	#wumpa fruits
	mt.wumpa_row(POS=(-.2,-36.80,-3.2),CNT=2,WAY=0)
	mt.wumpa_row(POS=(.7,-36.30,-3.2),CNT=2,WAY=0)
	mt.wumpa_row(POS=(1.7,-35.80,-3.2),CNT=2,WAY=0)
	mt.wumpa_row(POS=(7.7,-35.80,-3.2),CNT=5,WAY=0)
	mt.wumpa_row(POS=(3.2,-35.88,-3.2),CNT=3,WAY=2)
	mt.wumpa_row(POS=(4.2,-36.52,-3.2),CNT=3,WAY=2)
	mt.wumpa_row(POS=(5.2,-37.16,-3.2),CNT=3,WAY=2)
	mt.wumpa_row(POS=(6.2,-36.88,-3.2),CNT=3,WAY=2)
	mt.wumpa_row(POS=(11.0,-35.48,-3.2),CNT=3,WAY=2)
	mt.wumpa_row(POS=(16.0,-35.80,-3.2),CNT=3,WAY=2)
	#crate
	j=.2
	c.place_crate(ID=9,p=(-1,-36.84,U-j),m=181)
	mt.crate_row(ID=13,POS=(3.2,-37.84,U-j),m=181,l=1,CNT=6,WAY=2)
	mt.crate_row(ID=13,POS=(3.7,-37.84,U-j),m=181,l=1,CNT=5,WAY=2)
	mt.crate_row(ID=13,POS=(4.2,-37.84,U-j),m=181,l=14,CNT=4,WAY=2)
	mt.crate_row(ID=13,POS=(4.7,-37.84,U-j),m=181,l=2,CNT=3,WAY=2)
	mt.crate_row(ID=13,POS=(5.2,-37.84,U-j),m=181,l=1,CNT=2,WAY=2)
	mt.crate_row(ID=13,POS=(5.7,-37.84,U-j),m=181,l=3,CNT=1,WAY=2)
	c.place_crate(ID=8,p=(6.2,-37.4,U-j))
	mt.crate_row(ID=4,POS=(6.2,-35,U-j),CNT=2,WAY=2)
	c.place_crate(ID=3,p=(7.2,-36+.16,U-j))
	c.place_crate(ID=11,p=(7.2,-34,U-j))
	c.place_crate(ID=2,p=(7.2,-34+.32,U-j))
	c.place_crate(ID=14,p=(11,-36+.16,U-j))
	mt.crate_row(ID=1,POS=(11,-34,U-j),CNT=4,WAY=2)
	mt.crate_row(ID=1,POS=(10,-36.7,U-j),CNT=2,WAY=2)
	mt.crate_row(ID=2,POS=(12,-36.7,U-j),CNT=2,WAY=2)
	c.place_crate(ID=12,p=(13.3,-36+.16,U-j))
	c.place_crate(ID=12,p=(14.3,-36+.16,U-j))
	c.place_crate(ID=1,p=(14.3,-34.5,U-j))
	c.place_crate(ID=12,p=(14.3,-34.5+.32,U-j))
	c.place_crate(ID=12,p=(15.3,-36+.16,U-j))
	#
	o.BonusPlatform(pos=(17.2,-35.8,U))
	del j

def gem_zone():
	q=200
	dg.FallingZone(pos=(q,-6,0),s=(32,1,128))
	dg.Boulder(pos=(q,-1.5,20),fldd=[(q,-1.5,7)])
	#blocks
	o.spw_block(ID=1,p=(q,-3,-3),vx=[1,1],ro_y=180,sca=(2,.5,8))
	o.spw_block(ID=1,p=(199,-3.4,-11.5),vx=[1,1],ro_y=180)
	o.spw_block(ID=1,p=(199.4,-3.6,-12.5),vx=[1,1],ro_y=180)
	o.spw_block(ID=1,p=(199.8,-4,-13.5),vx=[1,1],ro_y=180)
	o.spw_block(ID=1,p=(199.8,-4,-16),vx=[1,3],ro_y=180)
	o.spw_block(ID=1,p=(q,-4,-26),vx=[1,1],ro_y=180,sca=(2,.5,8))
	o.spw_block(ID=1,p=(200.5,-4,-36.5),vx=[1,2],ro_y=180)
	o.spw_block(ID=1,p=(q,-4,-46),vx=[1,1],ro_y=180,sca=(2,.5,8))
	o.spw_block(ID=1,p=(q,-5,-56),vx=[1,1],ro_y=180,sca=(2,.5,6))
	o.spw_block(ID=1,p=(q,-5,-77.97),vx=[1,1],ro_y=180,sca=(2,.5,6))
	o.spw_block(ID=1,p=(q,-6,-94),vx=[1,1],ro_y=180,sca=(2,.5,6))
	#ice floors
	o.multi_ice_floor(pos=(200.6,-5,-71.5),cnt=[1,10])
	#corridors -> trigger boulder
	o.ObjType_Corridor(ID=0,pos=(q,-2,-8))
	o.ObjType_Corridor(ID=0,pos=(q,-3,-49.5))
	o.ObjType_Corridor(ID=0,pos=(q,-5,-95))
	#ice shards
	o.ObjType_Deco(ID=4,pos=(8,0,22.2),sca=1,rot=(-90,-90,0),col=color.azure,UL=True)
	#mv platforms
	o.ObjType_Movable(ID=1,pos=(q,-4.5,-84.8),ptm=2,tu=0,rng=.8,pts=2,ptw=.6,col=color.gray,UL=True)
	o.ObjType_Movable(ID=1,pos=(q,-5,-85.8),ptm=2,tu=1,rng=.8,pts=2,ptw=.6,col=color.gray,UL=True)
	o.ObjType_Movable(ID=1,pos=(q,-5.5,-86.8),ptm=2,tu=0,rng=.8,pts=2,ptw=.6,col=color.gray,UL=True)
	#walls
	o.ObjType_Wall(ID=7,pos=(197.5,-2.7,4),ro_y=180,sca=.5,col=color.dark_gray)
	o.ObjType_Wall(ID=7,pos=(202.5,-2.7,0),ro_y=0,sca=.5,col=color.dark_gray)
	for wbk in range(8):
		o.ObjType_Wall(ID=7,pos=(197.5,-3.7-wbk/5,4-wbk*12),ro_y=180,sca=.5,col=color.dark_gray)
		o.ObjType_Wall(ID=7,pos=(202.5,-3.7-wbk/5,0-wbk*12),ro_y=0,sca=.5,col=color.dark_gray)
	#water
	o.ObjType_Water(ID=5,pos=(q,-3.3,-15),sca=(6,8),al=.96,rot=(0,0,0),col=color.rgb32(0,65,65),frames=0,spd=0,UL=True)
	o.ObjType_Water(ID=5,pos=(q,-3.3,-36),sca=(6,6),al=.96,rot=(0,0,0),col=color.rgb32(0,65,65),frames=0,spd=0,UL=True)
	o.ObjType_Water(ID=5,pos=(q,-4.3,-67),sca=(6,12),al=.96,rot=(0,0,0),col=color.rgb32(0,65,65),frames=0,spd=0,UL=True)
	o.ObjType_Water(ID=5,pos=(q,-5.5,-86),sca=(6,10),al=.96,rot=(0,0,0),col=color.rgb32(0,65,65),frames=0,spd=0,UL=True)
	del q,wbk